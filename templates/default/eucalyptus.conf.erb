EUCALYPTUS="<%= node["eucalyptus"]["home-directory"] %>"
LOGLEVEL="<%= node["eucalyptus"]["log-level"] %>"
EUCA_USER="<%= node["eucalyptus"]["user"] %>"
CLOUD_OPTS="<%= node["eucalyptus"]["cloud-opts"] %><%= " -Dcom.eucalyptus.cluster.service=default" if not node["eucalyptus"]["cc"]["native"] and node["eucalyptus"]["install-type"] == "sources" %>"
CC_PORT="<%= node["eucalyptus"]["cc"]["port"] %>"
SCHEDPOLICY="<%= node["eucalyptus"]["cc"]["scheduling-policy"] %>"
<% if node["eucalyptus"]["nodes"] -%>
NODES="<%= node["eucalyptus"]["nodes"].join(' ') %>"
<% else -%>
NODES=""
<% end -%>
<% if not node["eucalyptus"]["nc"]["service-path"].eql? "axis2/services/EucalyptusNC" -%>
NC_SERVICE="<%= node["eucalyptus"]["nc"]["service-path"] %>"
<% end -%>
NC_PORT="<%= node["eucalyptus"]["nc"]["port"] %>"
<% if node["eucalyptus"]["nc"]["work-size"] -%>
NC_WORK_SIZE=<%= node["eucalyptus"]["nc"]["work-size"] %>
<% end -%>
<% if node["eucalyptus"]["nc"]["cache-size"] -%>
NC_CACHE_SIZE=<%= node["eucalyptus"]["nc"]["cache-size"] %>
<% end -%>
HYPERVISOR="<%= node["eucalyptus"]["nc"]["hypervisor"] %>"
MAX_CORES="<%= node["eucalyptus"]["nc"]["max-cores"] %>"
INSTANCE_PATH="<%= node["eucalyptus"]["nc"]["instance-path"] %>"
<% if node["eucalyptus"]["nc"]["use-cpu-passthrough"] -%>
USE_CPU_PASSTHROUGH="<%= node["eucalyptus"]["nc"]["use-cpu-passthrough"] %>"
<% end -%>
<% if node["eucalyptus"]["nc"]["libvirt-use-policy-kit"] -%>
LIBVIRT_USE_POLICY_KIT="<%= node["eucalyptus"]["nc"]["libvirt-use-policy-kit"] %>"
<% end -%>
USE_VIRTIO_ROOT="1"
USE_VIRTIO_DISK="1"
USE_VIRTIO_NET="1"
VNET_MODE="<%= node["eucalyptus"]["network"]["mode"] %>"
VNET_PRIVINTERFACE="<%= node["eucalyptus"]["network"]["private-interface"] %>"
VNET_PUBINTERFACE="<%= node["eucalyptus"]["network"]["public-interface"] %>"
VNET_BRIDGE="<%= node["eucalyptus"]["network"]["bridge-interface"] %>"
VNET_DHCPDAEMON="<%= node["eucalyptus"]["network"]["dhcp-daemon"] %>"
<% if (node["eucalyptus"]["network"]["mode"] == "MANAGED" || node["eucalyptus"]["network"]["mode"] == "MANAGED-NOVLAN") -%>
VNET_PUBLICIPS="<%= node["eucalyptus"]["network"]["public-ips"] %>"
VNET_SUBNET="<%= node["eucalyptus"]["network"]["subnet"] %>"
VNET_NETMASK="<%= node["eucalyptus"]["network"]["netmask"] %>"
VNET_ADDRSPERNET="<%= node["eucalyptus"]["network"]["addresses-per-net"] %>"
VNET_DNS="<%= node["eucalyptus"]["network"]["dns-server"] %>"
VNET_BROADCAST="<%= node["eucalyptus"]["network"]["broadcast"] %>"
<% end -%>
<% if node["eucalyptus"]["network"]["router"] -%>
VNET_ROUTER="<%= node["eucalyptus"]["network"]["router"] %>"
<% end -%>
<% if node["eucalyptus"]["network"]["domain-name"] -%>
VNET_DOMAINNAME="<%= node["eucalyptus"]["network"]["domain-name"] %>"
<% end -%>
METADATA_USE_VM_PRIVATE="<%= node["eucalyptus"]["network"]["metadata-use-private-ip"] %>"
<% if node["eucalyptus"]["network"]["metadata-ip"] != '' -%>
METADATA_IP="<%= node["eucalyptus"]["network"]["metadata-ip"] %>"
<% end -%>
<% if node["eucalyptus"]["network"]["nc-router"] != '' -%>
NC_ROUTER="<%= node["eucalyptus"]["network"]["nc-router"] %>"
<% end -%>
<% if node["eucalyptus"]["network"]["nc-router-ip"] != '' -%>
NC_ROUTER_IP="<%= node["eucalyptus"]["network"]["nc-router-ip"] %>"
<% end -%>
DISABLE_TUNNELING="<%= node["eucalyptus"]["network"]["disable-tunneling"] %>"
MAX_INSTANCES_PER_CC="<%= node["eucalyptus"]["cc"]["max-instances-per-cc"] %>"
<% if node[:ceph_user_name] -%>
CEPH_USER_NAME="<%= node[:ceph_user_name] %>"
<% end %>
<% if node[:ceph_keyring_path] -%>
CEPH_KEYRING_PATH="<%= node[:ceph_keyring_path] %>"
<% end %>
<% if node[:ceph_config_path] -%>
CEPH_CONFIG_PATH="<%= node[:ceph_config_path] %>"
<% end %>
